# نظام إدارة المستشفى - Hospital Management System

نظام متكامل لإدارة حسابات المستشفى يشمل إدارة الأطباء والمرضى والخدمات والمواعيد والإيصالات مع إمكانية طباعة الإيصالات على ورق A5 وتقارير يومية وشهرية وسنوية.

## المميزات

- ✅ **إدارة الأطباء**: تسجيل الأطباء والتخصصات ونسب المشاركة
- ✅ **إدارة المرضى**: سجلات المرضى والمواعيد والتاريخ المرضي
- ✅ **إدارة الخدمات**: تسجيل الخدمات الطبية والأسعار
- ✅ **جدولة المواعيد**: حجز مواعيد الكشف والخدمات
- ✅ **إصدار الإيصالات**: طباعة إيصالات على ورق A5
- ✅ **التقارير**: تقارير يومية وشهرية وسنوية
- ✅ **طباعة A5**: إيصالات مناسبة لورق A5
- ✅ **واجهة عربية**: واجهة مستخدم كاملة باللغة العربية

## المتطلبات

- Node.js 16 أو أحدث
- npm أو yarn

## التثبيت والإعداد

### 1. تثبيت المشروع

```bash
# استنساخ المشروع
git clone [repository-url]
cd hospital-management-system

# تثبيت التبعيات
npm install --legacy-peer-deps

# تشغيل النظام
npm run setup
```

### 2. للإنتاج (PostgreSQL)
إذا كنت تريد استخدام PostgreSQL في الإنتاج:

1. تثبيت PostgreSQL
2. إنشاء قاعدة البيانات:
```bash
CREATE DATABASE hospital_db;
```
3. تعديل `src/lib/db.ts` لاستخدام PostgreSQL بدلاً من قاعدة البيانات الوهمية
4. تشغيل `npm install pg @types/pg`

## تشغيل النظام

### وضع التطوير
```bash
npm run dev
```

### وضع الإنتاج
```bash
npm run build
npm start
```

### تشغيل مع قاعدة البيانات
```bash
npm run setup
```

## استخدام النظام

### 1. الواجهة الرئيسية
- افتح المتصفح على `http://localhost:8000`
- ستجد لوحة التحكم مع جميع الوحدات

### 2. إضافة بيانات أساسية
1. **الأطباء**: أضف الأطباء مع تخصصاتهم ونسب المشاركة
2. **المرضى**: سجل بيانات المرضى
3. **الخدمات**: أضف الخدمات الطبية والأسعار

### 3. جدولة المواعيد
- اختر الطبيب والمريض والخدمة
- حدد التاريخ والوقت
- أدخل الرسوم ونسبة الطبيب

### 4. إصدار الإيصالات
- اختر الموعد المكتمل
- حدد طريقة الدفع
- اطبع الإيصال على ورق A5

### 5. التقارير
- اختر نوع التقرير (يومي/شهري/سنوي/مخصص)
- حدد التاريخ أو الفترة
- اعرض التقرير أو اطبعه

## هيكل قاعدة البيانات

### الجداول الرئيسية
- **doctors**: معلومات الأطباء
- **patients**: سجلات المرضى
- **services**: الخدمات الطبية
- **appointments**: المواعيد والكشوفات
- **receipts**: الإيصالات والمدفوعات

## API Endpoints

### الأطباء
- `GET /api/doctors` - جلب قائمة الأطباء
- `POST /api/doctors` - إضافة طبيب جديد

### المرضى
- `GET /api/patients` - جلب قائمة المرضى
- `POST /api/patients` - إضافة مريض جديد

### الخدمات
- `GET /api/services` - جلب قائمة الخدمات
- `POST /api/services` - إضافة خدمة جديدة

### المواعيد
- `GET /api/appointments` - جلب قائمة المواعيد
- `POST /api/appointments` - جدولة موعد جديد

### الإيصالات
- `GET /api/receipts` - جلب قائمة الإيصالات
- `POST /api/receipts` - إنشاء إيصال جديد

### التقارير
- `GET /api/reports?report_type=daily&date=YYYY-MM-DD` - تقرير يومي
- `GET /api/reports?report_type=monthly&date=YYYY-MM` - تقرير شهري
- `GET /api/reports?report_type=yearly&date=YYYY` - تقرير سنوي
- `GET /api/reports?report_type=custom&start_date=YYYY-MM-DD&end_date=YYYY-MM-DD` - تقرير مخصص

## حل المشاكل

### مشاكل قاعدة البيانات
```bash
# إعادة تهيئة قاعدة البيانات
npm run migrate
```

### مشاكل التثبيت
```bash
# مسح node_modules وإعادة التثبيت
rm -rf node_modules package-lock.json
npm install --legacy-peer-deps
```

## الدعم والمساعدة

لأي مشاكل أو أسئلة، يرجى فتح issue في المستودع أو التواصل مع فريق الدعم.

## الترخيص

